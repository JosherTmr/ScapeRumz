{% extends "layout.html" %}
{% block title %}Luz Roja, Luz Verde{% endblock %}
{% block content %}
<div class="text-center">
    <h2>Juego 1: Luz Roja, Luz Verde</h2>
    <p>Haz clic repetidamente en "Correr" solo cuando la luz esté en verde. ¡Cuidado con la luz amarilla! Tienes 20 segundos para llegar a la meta.</p>
    
    <!-- El semáforo con una animación de pulso para la luz amarilla -->
    <div id="traffic-light" class="mx-auto my-4" style="width: 100px; height: 100px; border-radius: 50%; border: 4px solid white; transition: background-color 0.2s, box-shadow 0.2s;"></div>
    
    <!-- Nuevo: Contenedor para el temporizador y mensajes -->
    <div id="game-info" class="my-3" style="min-height: 50px;">
        <h3 id="timer-display" class="text-white">Tiempo: 30s</h3>
        <h3 id="game-message" class="text-warning"></h3>
    </div>

    <button id="run-button" class="btn btn-lg btn-success px-5 py-3">Correr</button>
    
    <!-- Barra de progreso para un look más moderno -->
    <div class="progress mt-4 mx-auto" style="height: 30px; max-width: 500px; background-color: #333;">
        <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <span id="progress-display" class="font-weight-bold">0%</span>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/calamar.js') }}"></script>
<script>
    // Asegúrate de llamar a la función correcta para este juego
    initLuzRojaGame('{{ room_name }}', '{{ stage_name }}');
</script>
{% endblock %}
